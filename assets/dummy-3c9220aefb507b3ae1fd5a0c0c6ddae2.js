"use strict";define("dummy/app",["exports","dummy/resolver","ember-load-initializers","dummy/config/environment"],function(e,t,r,n){Object.defineProperty(e,"__esModule",{value:!0});var a=void 0;Ember.MODEL_FACTORY_INJECTIONS=!0,a=Ember.Application.extend({modulePrefix:n.default.modulePrefix,podModulePrefix:n.default.podModulePrefix,Resolver:t.default}),(0,r.default)(a,n.default.modulePrefix),e.default=a}),define("dummy/components/active-link",["exports","ember-cli-active-link-wrapper/components/active-link"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("dummy/components/app-version",["exports","ember-cli-app-version/components/app-version","dummy/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r.default.APP.name,a=r.default.APP.version;e.default=t.default.extend({version:a,name:n})}),define("dummy/components/torii-iframe-placeholder",["exports","torii/components/torii-iframe-placeholder"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("dummy/controllers/index",["exports","dummy/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({badDomain:Ember.computed("model",function(){return!(!t.default.torii.providers["arcgis-oauth-bearer"].remoteServiceName||"iframe"!==t.default.torii.providers["arcgis-oauth-bearer"].remoteServiceName)&&!(window.location.hostname.toLowerCase().indexOf("arcgis.com")>-1)})})}),define("dummy/controllers/secure",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({isMemberOfOpenData:Ember.computed("session",function(){return this.get("session").isGroupMember("17d516cf609c4e90b798205e7d26ce5e")}),isMemberOfNonGroup:Ember.computed("session",function(){return this.get("session").isGroupMember("NOT-A-GROUP")})})}),define("dummy/controllers/signin",["exports","dummy/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({usingIframe:Ember.computed("ENV.torii",function(){return t.default.torii.providers["arcgis-oauth-bearer"].display&&"iframe"===t.default.torii.providers["arcgis-oauth-bearer"].display}),badDomain:Ember.computed("model",function(){return!!this.get("usingIframe")&&!(window.location.hostname.toLowerCase().indexOf("arcgis.com")>-1)})})}),define("dummy/ext/torii-provider-arcgis",["torii/services/torii-session","torii-provider-arcgis/mixins/gatekeeper"],function(e,t){e.default.reopen(t.default)}),define("dummy/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("dummy/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("dummy/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","dummy/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"App Version",initialize:(0,t.default)(r.default.APP.name,r.default.APP.version)}}),define("dummy/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("dummy/initializers/data-adapter",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"data-adapter",before:"store",initialize:function(){}}}),define("dummy/initializers/ember-data",["exports","ember-data/setup-container","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("dummy/initializers/export-application-global",["exports","dummy/config/environment"],function(e,t){function r(){var e=arguments[1]||arguments[0];if(!1!==t.default.exportApplicationGlobal){var r;if("undefined"!=typeof window)r=window;else if("undefined"!=typeof global)r=global;else{if("undefined"==typeof self)return;r=self}var n,a=t.default.exportApplicationGlobal;n="string"==typeof a?a:Ember.String.classify(t.default.modulePrefix),r[n]||(r[n]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete r[n]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default={name:"export-application-global",initialize:r}}),define("dummy/initializers/initialize-torii-callback",["exports","dummy/config/environment","torii/redirect-handler"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"torii-callback",before:"torii",initialize:function(e){arguments[1]&&(e=arguments[1]),t.default.torii&&t.default.torii.disableRedirectInitializer||(e.deferReadiness(),r.default.handle(window).catch(function(){e.advanceReadiness()}))}}}),define("dummy/initializers/initialize-torii-session",["exports","torii/bootstrap/session","torii/configuration"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"torii-session",after:"torii",initialize:function(e){arguments[1]&&(e=arguments[1]);var n=(0,r.getConfiguration)();if(n.sessionServiceName){(0,t.default)(e,n.sessionServiceName);var a="service:"+n.sessionServiceName;e.inject("adapter",n.sessionServiceName,a)}}}}),define("dummy/initializers/initialize-torii",["exports","torii/bootstrap/torii","torii/configuration","dummy/config/environment"],function(e,t,r,n){Object.defineProperty(e,"__esModule",{value:!0});var a={name:"torii",initialize:function(e){arguments[1]&&(e=arguments[1]),(0,r.configure)(n.default.torii||{}),(0,t.default)(e),e.inject("route","torii","service:torii")}};e.default=a}),define("dummy/initializers/injectStore",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"injectStore",before:"store",initialize:function(){}}}),define("dummy/initializers/store",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"store",after:"ember-data",initialize:function(){}}}),define("dummy/initializers/torii-provider-arcgis",["exports","dummy/ext/torii-provider-arcgis"],function(e,t){function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default={name:"torii-provider-arcgis",initialize:r}}),define("dummy/initializers/transforms",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"transforms",before:"store",initialize:function(){}}}),define("dummy/instance-initializers/ember-data",["exports","ember-data/initialize-store-service"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("dummy/instance-initializers/setup-routes",["exports","torii/bootstrap/routing","torii/configuration","torii/compat/get-router-instance","torii/compat/get-router-lib","torii/router-dsl-ext"],function(e,t,r,n,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"torii-setup-routes",initialize:function(e,i){if((0,r.getConfiguration)().sessionServiceName){var o=(0,n.default)(e),l=function r(){var n=(0,a.default)(o),i=n.authenticatedRoutes;!Ember.isEmpty(i)&&(0,t.default)(e,i),o.off("willTransition",r)};o.on("willTransition",l)}}}}),define("dummy/instance-initializers/walk-providers",["exports","torii/lib/container-utils","torii/configuration"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"torii-walk-providers",initialize:function(e){var n=(0,r.getConfiguration)();for(var a in n.providers)n.providers.hasOwnProperty(a)&&(0,t.lookup)(e,"torii-provider:"+a)}}}),define("dummy/mixins/active-link",["exports","ember-cli-active-link-wrapper/mixins/active-link"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("dummy/resolver",["exports","ember-resolver"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("dummy/router",["exports","dummy/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=Ember.Router.extend({location:t.default.locationType,rootURL:t.default.rootURL});r.map(function(){this.route("signin"),this.authenticatedRoute("secure"),this.route("rolesecure"),this.route("gatekeeper")}),e.default=r}),define("dummy/routes/application",["exports","dummy/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Route.extend({actions:{accessDenied:function(){this.transitionTo("signin")},signout:function(){t.default.torii.providers["arcgis-oauth-bearer"].display&&"iframe"===t.default.torii.providers["arcgis-oauth-bearer"].display?window.location=this.get("session.signoutUrl"):this.get("session").close()}}})}),define("dummy/routes/gatekeeper",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Route.extend({session:Ember.inject.service("session"),isOrgAdmin:!1,hasOpenDataAdmin:!1,isAuthenticated:!1,isInDCProdOrg:!1,portalHostName:"",beforeModel:function(){},resetController:function(e){this.setProperties({isOrgAdmin:!1,hasOpenDataAdmin:!1,isAuthenticated:!1,isInDCProdOrg:!1}),e.set("model",null)},model:function(){var e=this.get("session");e.get("isAuthenticated")&&(this.set("isAuthenticated",!0),this.set("hasOpenDataAdmin",e.hasPrivilege("opendata:user:openDataAdmin")),this.set("isOrgAdmin",e.isInRole("org_admin")),this.set("isInDCProdOrg",e.isInOrg("bkrWlSKcjUDFDtgw")));var t=this.get("session.orgPortalUrl");return Ember.debug("OrgPortalUrl should have thrown a deprecated warning but returned a value shown --\x3e "+t),{isAuthenticated:this.get("isAuthenticated"),isOrgAdmin:this.get("isOrgAdmin"),hasOpenDataAdmin:this.get("hasOpenDataAdmin"),isInDCProdOrg:this.get("isInDCProdOrg"),portalHostName:this.get("session.portalHostName")}}})}),define("dummy/routes/index",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Route.extend({})}),define("dummy/routes/secure",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Route.extend({})}),define("dummy/routes/signin",["exports","dummy/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Route.extend({deactivate:function(){Ember.debug("route:signin:deactivate fired...")},actions:{signin:function(){var e=this;this.get("session").open("arcgis-oauth-bearer").then(function(t){Ember.debug("AUTH SUCCESS: ",t),e.controller.transitionToRoute("secure")}).catch(function(e){Ember.debug("AUTH ERROR: ",e)})},didTransition:function(){t.default.torii.providers["arcgis-oauth-bearer"].display&&"iframe"===t.default.torii.providers["arcgis-oauth-bearer"].display&&Ember.run.schedule("afterRender",this,function(){var e=this;this.get("session").open("arcgis-oauth-bearer").then(function(t){Ember.debug("AUTH SUCCESS: ",t),e.controller.transitionToRoute("secure")}).catch(function(e){Ember.debug("AUTH ERROR: "+JSON.stringify(e))})})}}})}),define("dummy/services/popup",["exports","torii/services/popup"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("dummy/services/torii-session",["exports","torii/services/torii-session"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("dummy/services/torii",["exports","torii/services/torii"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("dummy/templates/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:11,column:8},end:{line:11,column:72}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("torii-provider-arcgis");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),t=function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:16,column:24},end:{line:16,column:50}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("Home");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:16,column:8},end:{line:16,column:50}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createComment("");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,r),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","link-to",["index"],[],0,null,["loc",[null,[16,24],[16,50]]]]],locals:[],templates:[e]}}(),r=function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:17,column:24},end:{line:17,column:53}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("Secure");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:17,column:8},end:{line:17,column:53}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createComment("");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,r),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","link-to",["secure"],[],0,null,["loc",[null,[17,24],[17,53]]]]],locals:[],templates:[e]}}(),n=function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:18,column:24},end:{line:18,column:61}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("GateKeeper");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:18,column:8},end:{line:18,column:61}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createComment("");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,r),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","link-to",["gatekeeper"],[],0,null,["loc",[null,[18,24],[18,61]]]]],locals:[],templates:[e]}}(),a=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:21,column:8},end:{line:23,column:8}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("        ");e.appendChild(t,r);var r=e.createElement("li"),n=e.createElement("a");e.setAttribute(n,"href","#");var a=e.createTextNode("Sign Out");e.appendChild(n,a),e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[1,0]),a=new Array(1);return a[0]=e.createElementMorph(n),a},statements:[["element","action",["signout"],[],["loc",[null,[22,24],[22,44]]],0,0]],locals:[],templates:[]}}(),i=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:24,column:24},end:{line:24,column:54}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("Sign In");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:24,column:8},end:{line:24,column:54}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createComment("");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,r),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","link-to",["signin"],[],0,null,["loc",[null,[24,24],[24,54]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:23,column:8},end:{line:25,column:8}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("        ");e.appendChild(t,r);var r=e.createComment("");e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(t,1,1,r),n},statements:[["block","active-link",[],[],0,null,["loc",[null,[24,8],[24,70]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:1,column:0},end:{line:34,column:0}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createElement("nav");e.setAttribute(r,"class","navbar navbar-default");var n=e.createTextNode("\n  ");e.appendChild(r,n);var n=e.createElement("div");e.setAttribute(n,"class","container");var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("div");e.setAttribute(a,"class","navbar-header");var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("button");e.setAttribute(i,"type","button"),e.setAttribute(i,"class","navbar-toggle collapsed"),e.setAttribute(i,"data-toggle","collapse"),e.setAttribute(i,"data-target","#navbar"),e.setAttribute(i,"aria-expanded","false"),e.setAttribute(i,"aria-controls","navbar");var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("span");e.setAttribute(o,"class","sr-only");var l=e.createTextNode("Toggle navigation");e.appendChild(o,l),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("span");e.setAttribute(o,"class","icon-bar"),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("span");e.setAttribute(o,"class","icon-bar"),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("span");e.setAttribute(o,"class","icon-bar"),e.appendChild(i,o);var o=e.createTextNode("\n      ");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n\n        ");e.appendChild(a,i);var i=e.createComment("");e.appendChild(a,i);var i=e.createTextNode("\n\n    ");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("div");e.setAttribute(a,"id","navbar"),e.setAttribute(a,"class","navbar-collapse collapse");var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("ul");e.setAttribute(i,"class","nav navbar-nav");var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("\n      ");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("ul");e.setAttribute(i,"class","nav navbar-nav navbar-right");var o=e.createTextNode("\n");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("li"),l=e.createElement("a");e.setAttribute(l,"href","https://github.com/dbouwman/torii-provider-arcgis");var d=e.createTextNode("Github");e.appendChild(l,d),e.appendChild(o,l),e.appendChild(i,o);var o=e.createTextNode("\n      ");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n    ");e.appendChild(a,i),e.appendChild(n,a);var a=e.createComment("/.nav-collapse ");e.appendChild(n,a);var a=e.createTextNode("\n  ");e.appendChild(n,a),e.appendChild(r,n);var n=e.createComment("/.container-fluid ");e.appendChild(r,n);var n=e.createTextNode("\n");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n\n");e.appendChild(t,r);var r=e.createComment("");e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[0,1]),a=e.childAt(n,[3]),i=e.childAt(a,[1]),o=new Array(6);return o[0]=e.createMorphAt(e.childAt(n,[1]),3,3),o[1]=e.createMorphAt(i,1,1),o[2]=e.createMorphAt(i,3,3),o[3]=e.createMorphAt(i,5,5),o[4]=e.createMorphAt(e.childAt(a,[3]),1,1),o[5]=e.createMorphAt(t,2,2,r),o},statements:[["block","link-to",["index"],["class","navbar-brand"],0,null,["loc",[null,[11,8],[11,72]]]],["block","active-link",[],[],1,null,["loc",[null,[16,8],[16,66]]]],["block","active-link",[],[],2,null,["loc",[null,[17,8],[17,69]]]],["block","active-link",[],[],3,null,["loc",[null,[18,8],[18,77]]]],["block","if",[["get","session.isAuthenticated",["loc",[null,[21,14],[21,37]]],0,0,0,0]],[],4,5,["loc",[null,[21,8],[25,15]]]],["content","outlet",["loc",[null,[33,0],[33,10]]],0,0,0,0]],locals:[],templates:[e,t,r,n,a,i]}}())}),define("dummy/templates/gatekeeper",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:15,column:4},end:{line:24,column:4}},moduleName:"dummy/templates/gatekeeper.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("    ");e.appendChild(t,r);var r=e.createElement("h2"),n=e.createTextNode("Hey there ");e.appendChild(r,n);var n=e.createComment("");e.appendChild(r,n);var n=e.createTextNode("!");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n    ");e.appendChild(t,r);var r=e.createElement("p"),n=e.createTextNode("This page simply does a few role/priviledge checks using the gatekeeper service");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n    ");e.appendChild(t,r);var r=e.createElement("ul"),n=e.createTextNode("\n      ");e.appendChild(r,n);var n=e.createElement("li"),a=e.createTextNode("isInRole('org_admin'): ");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n      ");e.appendChild(r,n);var n=e.createElement("li"),a=e.createTextNode("hasPriviledge('opendata:user:openDataAdmin'): ");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n      ");e.appendChild(r,n);var n=e.createElement("li"),a=e.createTextNode("isInOrg('bkrWlSKcjUDFDtgw'): ");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n      ");e.appendChild(r,n);var n=e.createElement("li"),a=e.createTextNode("portalHostName: ");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n    ");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[5]),a=new Array(5);return a[0]=e.createMorphAt(e.childAt(t,[1]),1,1),a[1]=e.createMorphAt(e.childAt(n,[1]),1,1),a[2]=e.createMorphAt(e.childAt(n,[3]),1,1),a[3]=e.createMorphAt(e.childAt(n,[5]),1,1),a[4]=e.createMorphAt(e.childAt(n,[7]),1,1),a},statements:[["content","session.currentUser.fullName",["loc",[null,[16,18],[16,50]]],0,0,0,0],["content","model.isOrgAdmin",["loc",[null,[19,33],[19,53]]],0,0,0,0],["content","model.hasOpenDataAdmin",["loc",[null,[20,56],[20,82]]],0,0,0,0],["content","model.isInDCProdOrg",["loc",[null,[21,39],[21,62]]],0,0,0,0],["content","model.portalHostName",["loc",[null,[22,26],[22,50]]],0,0,0,0]],locals:[],templates:[]}}(),t=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:24,column:4},end:{line:28,column:4}},moduleName:"dummy/templates/gatekeeper.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("    ");e.appendChild(t,r);var r=e.createElement("h2"),n=e.createTextNode("Hello Unauthenticated User!");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n    ");e.appendChild(t,r);var r=e.createElement("p"),n=e.createTextNode("you need to login before we can check roles/privileges");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n    ");e.appendChild(t,r);var r=e.createElement("p"),n=e.createTextNode("portalHostName: ");e.appendChild(r,n);var n=e.createComment("");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(e.childAt(t,[5]),1,1),n},statements:[["content","session.portalHostName",["loc",[null,[27,23],[27,49]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:1,column:0},end:{line:34,column:0}},moduleName:"dummy/templates/gatekeeper.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createElement("div");e.setAttribute(r,"class","container");var n=e.createTextNode("\n  ");e.appendChild(r,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("h2"),i=e.createTextNode("GateKeeper Mixin");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("p"),i=e.createTextNode("Torii automatically mixes Gatekeeper into the torii session. This adds some ArcGIS Online specific methods for managing authorization.");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("h3"),i=e.createTextNode("Methods");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("ul"),i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("isInRole(roleName)");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("hasPrivilege(priviligeName)");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("isInOrg(orgId)");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("isInAnyRole([roleName,roleName])");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("hasAnyPrivilege([priviligeName,priviligeName])");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("isInAnyOrg([orgId, orgId])");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("portalHostName");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n    ");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a);var a=e.createTextNode("\n\n  ");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");e.appendChild(t,r);var r=e.createComment("");e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(2);return n[0]=e.createMorphAt(e.childAt(t,[0,1]),9,9),n[1]=e.createMorphAt(t,2,2,r),n},statements:[["block","if",[["get","session.isAuthenticated",["loc",[null,[15,10],[15,33]]],0,0,0,0]],[],0,1,["loc",[null,[15,4],[28,11]]]],["content","outlet",["loc",[null,[33,0],[33,10]]],0,0,0,0]],locals:[],templates:[e,t]}}())}),define("dummy/templates/index",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:7,column:8},end:{line:9,column:8}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("          ");e.appendChild(t,r);var r=e.createElement("button");e.setAttribute(r,"class","btn btn-primary"),e.setAttribute(r,"type","button");var n=e.createTextNode("Sign Out");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[1]),a=new Array(1);return a[0]=e.createElementMorph(n),a},statements:[["element","action",["signout"],[],["loc",[null,[8,56],[8,76]]],0,0]],locals:[],templates:[]}}(),t=function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:10,column:10},end:{line:10,column:65}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("Sign In");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:9,column:8},end:{line:11,column:8}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("          ");e.appendChild(t,r);var r=e.createComment("");e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(t,1,1,r),n},statements:[["block","link-to",["signin"],["class","btn btn-primary"],0,null,["loc",[null,[10,10],[10,65]]]]],locals:[],templates:[e]}}(),r=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:15,column:4},end:{line:19,column:4}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("    ");e.appendChild(t,r);var r=e.createElement("div");e.setAttribute(r,"class","alert alert-info"),e.setAttribute(r,"role","alert");var n=e.createTextNode("\n      Hello ");e.appendChild(r,n);var n=e.createComment("");e.appendChild(r,n);var n=e.createTextNode(", you are currently authenticated.\n    ");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(e.childAt(t,[1]),1,1),n},
statements:[["content","session.currentUser.username",["loc",[null,[17,12],[17,45]]],0,0,0,0]],locals:[],templates:[]}}(),n=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:19,column:4},end:{line:23,column:4}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("    ");e.appendChild(t,r);var r=e.createElement("div");e.setAttribute(r,"class","alert alert-danger"),e.setAttribute(r,"role","alert");var n=e.createTextNode("\n      You are not currently authenticated.\n    ");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),a=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:25,column:4},end:{line:31,column:4}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("      ");e.appendChild(t,r);var r=e.createElement("div");e.setAttribute(r,"class","alert alert-danger"),e.setAttribute(r,"role","alert");var n=e.createTextNode("\n        ");e.appendChild(r,n);var n=e.createElement("h2"),a=e.createTextNode("ArcGIS.com Domain Required");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n        ");e.appendChild(r,n);var n=e.createElement("p"),a=e.createTextNode("In order to run this sample site, you need to load this page on a *.arcgis.com domain. But,\n        fear not - this is very easy! Simply add an entry to your hosts file, pointing local.arcgis.com to 127.0.0.1.");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n      ");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:1,column:0},end:{line:34,column:0}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createElement("div");e.setAttribute(r,"class","container");var n=e.createTextNode("\n  ");e.appendChild(r,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-12");var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("div");e.setAttribute(a,"class","jumbotron");var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("h1"),o=e.createTextNode("Torii Provider for ArcGIS");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("p"),o=e.createTextNode("Quickly add ArcGIS.com authentication into an Ember-cli application.");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("p"),o=e.createTextNode("\n");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("      ");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n    ");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n\n");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a);var a=e.createTextNode("\n");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a);var a=e.createTextNode("  ");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[0,1]),a=new Array(3);return a[0]=e.createMorphAt(e.childAt(n,[1,5]),1,1),a[1]=e.createMorphAt(n,3,3),a[2]=e.createMorphAt(n,5,5),a},statements:[["block","if",[["get","session.isAuthenticated",["loc",[null,[7,14],[7,37]]],0,0,0,0]],[],0,1,["loc",[null,[7,8],[11,15]]]],["block","if",[["get","session.isAuthenticated",["loc",[null,[15,10],[15,33]]],0,0,0,0]],[],2,3,["loc",[null,[15,4],[23,11]]]],["block","if",[["get","badDomain",["loc",[null,[25,11],[25,20]]],0,0,0,0]],[],4,null,["loc",[null,[25,4],[31,11]]]]],locals:[],templates:[e,t,r,n,a]}}())}),define("dummy/templates/secure",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template(function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:14,column:8},end:{line:16,column:8}},moduleName:"dummy/templates/secure.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("          ");e.appendChild(t,r);var r=e.createElement("li"),n=e.createComment("");e.appendChild(r,n);var n=e.createTextNode(" :: ");e.appendChild(r,n);var n=e.createComment("");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[1]),a=new Array(2);return a[0]=e.createMorphAt(n,0,0),a[1]=e.createMorphAt(n,2,2),a},statements:[["content","group.id",["loc",[null,[15,14],[15,26]]],0,0,0,0],["content","group.title",["loc",[null,[15,30],[15,45]]],0,0,0,0]],locals:["group"],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:13,column:6},end:{line:17,column:6}},moduleName:"dummy/templates/secure.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createComment("");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,r),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","each",[["get","session.currentUser.groups",["loc",[null,[14,16],[14,42]]],0,0,0,0]],[],0,null,["loc",[null,[14,8],[16,17]]]]],locals:[],templates:[e]}}(),t=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:17,column:6},end:{line:19,column:6}},moduleName:"dummy/templates/secure.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("        User is not a member of any groups\n");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:1,column:0},end:{line:30,column:0}},moduleName:"dummy/templates/secure.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createElement("div");e.setAttribute(r,"class","container");var n=e.createTextNode("\n  ");e.appendChild(r,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("h2"),i=e.createTextNode("Hello ");e.appendChild(a,i);var i=e.createComment("");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("p"),i=e.createTextNode("This page requires authentication.");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("ul"),i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("Portal Name: ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n      ");e.appendChild(a,i);var i=e.createElement("li"),o=e.createTextNode("Token: ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o),e.appendChild(a,i);var i=e.createTextNode("\n    ");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n  ");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n  ");e.appendChild(r,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-6");var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("h2"),i=e.createTextNode("Groups");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("ul"),i=e.createTextNode("\n");e.appendChild(a,i);var i=e.createComment("");e.appendChild(a,i);var i=e.createTextNode("    ");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n\n  ");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n  ");e.appendChild(r,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-6");var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("h2"),i=e.createTextNode("Group Check");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("p"),i=e.createTextNode("Is Member of 17d516cf609c4e90b798205e7d26ce5e ");e.appendChild(a,i);var i=e.createComment("");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createElement("p"),i=e.createTextNode("Is Member of NOT-A-GROUP ");e.appendChild(a,i);var i=e.createComment("");e.appendChild(a,i),e.appendChild(n,a);var a=e.createTextNode("\n  ");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");e.appendChild(t,r);var r=e.createComment("");e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[0]),a=e.childAt(n,[1]),i=e.childAt(a,[5]),o=e.childAt(n,[5]),l=new Array(7);return l[0]=e.createMorphAt(e.childAt(a,[1]),1,1),l[1]=e.createMorphAt(e.childAt(i,[1]),1,1),l[2]=e.createMorphAt(e.childAt(i,[3]),1,1),l[3]=e.createMorphAt(e.childAt(n,[3,3]),1,1),l[4]=e.createMorphAt(e.childAt(o,[3]),1,1),l[5]=e.createMorphAt(e.childAt(o,[5]),1,1),l[6]=e.createMorphAt(t,2,2,r),l},statements:[["content","session.currentUser.fullName",["loc",[null,[3,14],[3,46]]],0,0,0,0],["content","session.portal.name",["loc",[null,[6,23],[6,46]]],0,0,0,0],["content","session.token",["loc",[null,[7,17],[7,34]]],0,0,0,0],["block","if",[["get","session.currentUser.groups.length",["loc",[null,[13,12],[13,45]]],0,0,0,0]],[],0,1,["loc",[null,[13,6],[19,13]]]],["content","isMemberOfOpenData",["loc",[null,[25,53],[25,75]]],0,0,0,0],["content","isMemberOfNonGroup",["loc",[null,[26,32],[26,54]]],0,0,0,0],["content","outlet",["loc",[null,[29,0],[29,10]]],0,0,0,0]],locals:[],templates:[e,t]}}())}),define("dummy/templates/signin",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:3,column:4},end:{line:8,column:4}},moduleName:"dummy/templates/signin.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("    ");e.appendChild(t,r);var r=e.createElement("h2"),n=e.createTextNode("ArcGIS IFrame Authentication");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n    ");e.appendChild(t,r);var r=e.createElement("p"),n=e.createTextNode("This style of login only works for apps hosted on *.arcgis.com domains.\n    This allows for the authentication to occur in an iframe instead of a full-page\n    redirect or a pop-out window.");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),t=function(){return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:8,column:4},end:{line:12,column:4}},moduleName:"dummy/templates/signin.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createTextNode("    ");e.appendChild(t,r);var r=e.createElement("h2"),n=e.createTextNode("ArcGIS Application Authentication");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n    ");e.appendChild(t,r);var r=e.createElement("p"),n=e.createTextNode("Press the button below to open the pop-up and sign-in.");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n    ");e.appendChild(t,r);var r=e.createElement("button");e.setAttribute(r,"class","btn btn-primary"),e.setAttribute(r,"type","button");var n=e.createTextNode("Show Sign In");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[5]),a=new Array(1);return a[0]=e.createElementMorph(n),a},statements:[["element","action",["signin"],[],["loc",[null,[11,50],[11,69]]],0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.3",loc:{source:null,start:{line:1,column:0},end:{line:19,column:0}},moduleName:"dummy/templates/signin.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),r=e.createElement("div");e.setAttribute(r,"class","container");var n=e.createTextNode("\n  ");e.appendChild(r,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-6");var a=e.createTextNode("\n");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a);var a=e.createTextNode("  ");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n  ");e.appendChild(r,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-6");var a=e.createTextNode("\n    ");e.appendChild(n,a);var a=e.createComment("");e.appendChild(n,a);var a=e.createTextNode("\n  ");e.appendChild(n,a),e.appendChild(r,n);var n=e.createTextNode("\n");e.appendChild(r,n),e.appendChild(t,r);var r=e.createTextNode("\n");e.appendChild(t,r);var r=e.createComment("");e.appendChild(t,r);var r=e.createTextNode("\n");return e.appendChild(t,r),t},buildRenderNodes:function(e,t,r){var n=e.childAt(t,[0]),a=new Array(3);return a[0]=e.createMorphAt(e.childAt(n,[1]),1,1),a[1]=e.createMorphAt(e.childAt(n,[3]),1,1),a[2]=e.createMorphAt(t,2,2,r),a},statements:[["block","if",[["get","usingIframe",["loc",[null,[3,10],[3,21]]],0,0,0,0]],[],0,1,["loc",[null,[3,4],[12,11]]]],["content","torii-iframe-placeholder",["loc",[null,[15,4],[15,32]]],0,0,0,0],["content","outlet",["loc",[null,[18,0],[18,10]]],0,0,0,0]],locals:[],templates:[e,t]}}())}),define("dummy/torii-adapters/application",["exports","dummy/torii-adapters/arcgis-oauth-bearer"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("dummy/torii-adapters/arcgis-oauth-bearer",["exports","dummy/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Object.extend({authCookieName:"esri_auth",portalBaseUrl:"https://www.arcgis.com/",signoutUrl:Ember.computed("portalBaseUrl",function(){var e=t.default.baseURL||t.default.rootURL;return this.get("portalBaseUrl")+"/sharing/rest/oauth2/signout?redirect_uri="+window.location.protocol+"//"+window.location.host+e}),init:function(){this._super.init&&this._super.init.apply(this,arguments),t.default.APP.authCookieName&&this.set("authCookieName",t.default.APP.authCookieName),t.default.torii.providers["arcgis-oauth-bearer"].portalUrl?this.set("portalBaseUrl",t.default.torii.providers["arcgis-oauth-bearer"].portalUrl):Ember.warn("ENV.torii.providers['arcgis-oauth-bearer'].portalUrl not defined. Defaulting to https://www.arcgis.com")},open:function(e){var r=this;e.session||(e.session=arcgisRest.UserSession.deserialize(e.authorizationToken.serializedSession));var n=this.get("signoutUrl");return arcgisRest.getSelf({authentication:e.session}).then(function(r){if(Ember.debug("torii:adapter:arcgis-oauth-bearer:open got response from portal/self & assigning to session"),t.default.torii.providers["arcgis-oauth-bearer"].loadGroups){var n=r.user.username,a=arcgisRest.getPortalUrl({authentication:e.session})+"/community/users/"+n;return arcgisRest.request(a,{authentication:e.session}).then(function(t){return Ember.RSVP.hash({portalResponse:r,userResponse:t,session:e.session})})}return{portalResponse:r,userResponse:r.user,session:e.session}}).then(function(e){var t=e.userResponse,a=e.portalResponse;delete a.user;var i=Date.now()+1e3*e.session.tokenDuration,o=r._createCookieData(e.session.token,i,t,a,e.session.serialize());return r._store("torii-provider-arcgis",o),{portal:a,currentUser:t,token:e.session.token,signoutUrl:n,serializedSession:e.session.serialize()}})},close:function(){var e=this;return new Ember.RSVP.Promise(function(r){if(window.localStorage&&window.localStorage.removeItem("torii-provider-arcgis"),t.default.torii.providers["arcgis-oauth-bearer"].display&&"iframe"===t.default.torii.providers["arcgis-oauth-bearer"].display)throw new Error("To log out of ArcGIS Online, you should redirect the browser to "+e.get("signoutUrl"));r()})},fetch:function(){console.debug("torii-provider-arcgis.fetch called...");var e=this;return new Ember.RSVP.Promise(function(t,r){var n=e._checkCookie(e.get("authCookieName"));if(n.valid||(n=e._checkLocalStorage("torii-provider-arcgis")),n.valid){Ember.debug("Fetch has valid client-side information... opening session...");var a=Date.now(),i=(n.authData.expires-a)/1e3,o={authorizationToken:{token:n.authData.token,expires_in:i,serializedSession:n.authData.serializedSession}};t(e.open(o))}else Ember.debug("Fetch did not find valid client-side information... rejecting"),r()})},_checkLocalStorage:function(e){Ember.debug("torii:adapter:arcgis-oauth-bearer:checkLocalStorage keyName "+e);var t={valid:!1};if(window.localStorage){var r=window.localStorage.getItem(e);r&&(t.authData=JSON.parse(r),new Date(t.authData.expires)>new Date&&(Ember.debug("torii:adapter:arcgis-oauth-bearer:checkLocalStorage authdata has not expired yet "),t.valid=!0))}return t},_store:function(e,t){window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))},_createCookieData:function(e,t,r,n,a){return{token:e,accountId:r.orgId,create:r.created,culture:r.culture,customBaseUrl:n.customBaseUrl,email:r.username,expires:t,persistent:!1,region:r.region,role:r.role,serializedSession:a}},_checkCookie:function(e){var t={valid:!1},r=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(r){var n=JSON.parse(r);new Date(n.expires)>new Date?Ember.debug("torii:adapter:arcgis-oauth-bearer:checkCookie: cookie has not expired yet..."):Ember.debug("torii:adapter:arcgis-oauth-bearer:checkCookie: cookie has expired - but we are still going to try to use it"),t.authData=n,t.valid=!0}return t}})}),define("dummy/torii-providers/arcgis-oauth-bearer",["exports","torii/providers/oauth2-bearer","torii/configuration","dummy/torii-providers/query-string","dummy/config/environment"],function(e,t,r,n,a){Object.defineProperty(e,"__esModule",{value:!0});var i=t.default.extend({name:"arcgis-oauth-bearer",portalUrl:(0,r.configurable)("portalUrl","https://www.arcgis.com"),path:"/sharing/oauth2/authorize",baseUrl:(0,r.configurable)("baseUrl",function(){return""+this.get("portalUrl")+this.get("path")}),showSocialLogins:(0,r.configurable)("showSocialLogins",!1),display:(0,r.configurable)("display","default"),expiration:(0,r.configurable)("expiration",20160),locale:(0,r.configurable)("locale","en-us"),requiredUrlParams:["response_type","showSocialLogins","display","expiration","locale"],optionalUrlParams:["client","parent","autoAccountCreateForSocial","socialLoginProviderName"],responseParams:["token","state","expires_in"],customRedirectUri:(0,r.configurable)("customRedirectUri",""),_currentBaseUrl:function(){return[window.location.protocol,"//",window.location.host].join("")},buildQueryString:function(e){var t=this.get("requiredUrlParams"),r=this.get("optionalUrlParams");return n.default.create({provider:this,requiredParams:t,optionalParams:r,options:e}).toString()},buildUrl:function(e){var t=this.get("baseUrl");if(e.portalUrl||e.path){t=e.portalUrl||this.get("portalUrl");t=""+t+(e.path||this.get("path"))}return delete e.portalUrl,delete e.path,[t,this.buildQueryString(e)].join("?")},open:function(e){e=e||{},e.remoteServiceName&&(this.set("configuredRemoteServiceName",e.remoteServiceName),delete e.remoteServiceName),"iframe"===(e.display||this.get("display"))&&(e.parent=this._currentBaseUrl());var t="";if(this.get("customRedirectUri"))t=this.get("customRedirectUri");else if(a.default.baseURL||a.default.rootURL){var r=a.default.baseURL||a.default.rootURL;t=this._currentBaseUrl()+r+"torii-provider-arcgis/redirect.html"}else t=this._currentBaseUrl()+"/torii-provider-arcgis/redirect.html";this.set("redirectUri",t);var n=(this.get("name"),this.buildUrl(e),this.get("responseParams"),this.get("clientId")),i=this.get("redirectUri")+"?clientId="+n;return arcgisRest.UserSession.beginOAuth2({clientId:n,redirectUri:i,popup:!0,portal:this.get("portalUrl")+"/sharing/rest"}).then(function(e){return{authorizationToken:{token:e.token,expires_in:e.tokenDuration},session:e}})}});e.default=i}),define("dummy/torii-providers/query-string",["exports"],function(e){function t(e){return e||!1===e}function r(e,r,n){var o=a(r),l=i(e,o);if(!n){if(!t(l)&&t(i(e,r)))throw new Error('Use camelized versions of url params. (Did not find "'+o+'" property but did find "'+r+'".');if(!t(l))throw new Error('Missing url param: "'+r+'". (Looked for: property named "'+o+'".')}return t(l)?encodeURIComponent(l):void 0}function n(e,t){return r(e,t,!0)}Object.defineProperty(e,"__esModule",{value:!0});var a=Ember.String.camelize,i=Ember.get;e.default=Ember.Object.extend({init:function(){this.obj=this.provider,this.urlParams=Ember.A(Ember.copy(this.requiredParams)).uniq(),this.optionalUrlParams=Ember.A(Ember.copy(this.optionalParams||[])).uniq(),this.optionalUrlParams.forEach(function(e){if(this.urlParams.indexOf(e)>-1)throw new Error("Required parameters cannot also be optional: '"+e+"'")},this)},toString:function(){var e=this.urlParams,a=this.optionalUrlParams,i=this.obj,o=Ember.A([]),l=this.get("options"),d=Object.keys(l);return e.forEach(function(e){if(!d.includes(e)){var t=r(i,e);o.push([e,t])}}),a.forEach(function(e){if(!d.includes(e)){var r=n(i,e);t(r)&&o.push([e,r])}}),d.forEach(function(e){o.push([e,encodeURIComponent(l[e])])}),o.map(function(e){return e.join("=")}).join("&")}})}),define("dummy/config/environment",["ember"],function(e){try{var t="dummy/config/environment",r=document.querySelector('meta[name="'+t+'"]').getAttribute("content"),n=JSON.parse(unescape(r)),a={default:n};return Object.defineProperty(a,"__esModule",{value:!0}),a}catch(e){throw new Error('Could not read config from meta tag with name "'+t+'".')}}),runningTests||require("dummy/app").default.create({name:"torii-provider-arcgis",version:"0.12.0+a0e86178"});