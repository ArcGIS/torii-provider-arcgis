"use strict";define("dummy/app",["exports","ember","dummy/resolver","ember-load-initializers","dummy/config/environment"],function(e,t,a,n,r){var i=void 0;t.default.MODEL_FACTORY_INJECTIONS=!0,i=t.default.Application.extend({modulePrefix:r.default.modulePrefix,podModulePrefix:r.default.podModulePrefix,Resolver:a.default}),(0,n.default)(i,r.default.modulePrefix),e.default=i}),define("dummy/components/active-link",["exports","ember-cli-active-link-wrapper/components/active-link"],function(e,t){e.default=t.default}),define("dummy/components/app-version",["exports","ember-cli-app-version/components/app-version","dummy/config/environment"],function(e,t,a){var n=a.default.APP.name,r=a.default.APP.version;e.default=t.default.extend({version:r,name:n})}),define("dummy/components/torii-iframe-placeholder",["exports","torii/components/torii-iframe-placeholder"],function(e,t){e.default=t.default}),define("dummy/controllers/index",["exports","ember","dummy/config/environment"],function(e,t,a){e.default=t.default.Controller.extend({badDomain:t.default.computed("model",function(){return!(!a.default.torii.providers["arcgis-oauth-bearer"].remoteServiceName||"iframe"!==a.default.torii.providers["arcgis-oauth-bearer"].remoteServiceName)&&!(window.location.hostname.toLowerCase().indexOf("arcgis.com")>-1)})})}),define("dummy/controllers/signin",["exports","ember","dummy/config/environment"],function(e,t,a){e.default=t.default.Controller.extend({usingIframe:t.default.computed("ENV.torii",function(){return a.default.torii.providers["arcgis-oauth-bearer"].display&&"iframe"===a.default.torii.providers["arcgis-oauth-bearer"].display}),badDomain:t.default.computed("model",function(){return!!this.get("usingIframe")&&!(window.location.hostname.toLowerCase().indexOf("arcgis.com")>-1)})})}),define("dummy/ext/torii-provider-arcgis",["exports","torii/services/torii-session","torii-provider-arcgis/mixins/gatekeeper"],function(e,t,a){t.default.reopen(a.default)}),define("dummy/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){e.default=t.default}),define("dummy/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){e.default=t.default}),define("dummy/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","dummy/config/environment"],function(e,t,a){e.default={name:"App Version",initialize:(0,t.default)(a.default.APP.name,a.default.APP.version)}}),define("dummy/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("dummy/initializers/data-adapter",["exports","ember"],function(e,t){e.default={name:"data-adapter",before:"store",initialize:t.default.K}}),define("dummy/initializers/ember-data",["exports","ember-data/setup-container","ember-data/-private/core"],function(e,t,a){e.default={name:"ember-data",initialize:t.default}}),define("dummy/initializers/export-application-global",["exports","ember","dummy/config/environment"],function(e,t,a){function n(){var e=arguments[1]||arguments[0];if(a.default.exportApplicationGlobal!==!1){var n,r=a.default.exportApplicationGlobal;n="string"==typeof r?r:t.default.String.classify(a.default.modulePrefix),window[n]||(window[n]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete window[n]}}))}}e.initialize=n,e.default={name:"export-application-global",initialize:n}}),define("dummy/initializers/initialize-torii-callback",["exports","torii/redirect-handler"],function(e,t){e.default={name:"torii-callback",before:"torii",initialize:function(e){arguments[1]&&(e=arguments[1]),e.deferReadiness(),t.default.handle(window).catch(function(){e.advanceReadiness()})}}}),define("dummy/initializers/initialize-torii-session",["exports","torii/bootstrap/session","torii/configuration"],function(e,t,a){e.default={name:"torii-session",after:"torii",initialize:function(e){arguments[1]&&(e=arguments[1]);var n=(0,a.getConfiguration)();if(n.sessionServiceName){(0,t.default)(e,n.sessionServiceName);var r="service:"+n.sessionServiceName;e.inject("adapter",n.sessionServiceName,r)}}}}),define("dummy/initializers/initialize-torii",["exports","torii/bootstrap/torii","torii/configuration","dummy/config/environment"],function(e,t,a,n){var r={name:"torii",initialize:function(e){arguments[1]&&(e=arguments[1]),(0,a.configure)(n.default.torii||{}),(0,t.default)(e),e.inject("route","torii","service:torii")}};e.default=r}),define("dummy/initializers/injectStore",["exports","ember"],function(e,t){e.default={name:"injectStore",before:"store",initialize:t.default.K}}),define("dummy/initializers/store",["exports","ember"],function(e,t){e.default={name:"store",after:"ember-data",initialize:t.default.K}}),define("dummy/initializers/torii-provider-arcgis",["exports","dummy/ext/torii-provider-arcgis"],function(e,t){function a(){}e.initialize=a,e.default={name:"torii-provider-arcgis",initialize:a}}),define("dummy/initializers/transforms",["exports","ember"],function(e,t){e.default={name:"transforms",before:"store",initialize:t.default.K}}),define("dummy/instance-initializers/ember-data",["exports","ember-data/-private/instance-initializers/initialize-store-service"],function(e,t){e.default={name:"ember-data",initialize:t.default}}),define("dummy/instance-initializers/setup-routes",["exports","torii/bootstrap/routing","torii/configuration","torii/router-dsl-ext"],function(e,t,a,n){e.default={name:"torii-setup-routes",initialize:function(e,n){var r=(0,a.getConfiguration)();if(r.sessionServiceName){var i=e.get("router"),o=function a(){var n=i.router.authenticatedRoutes,r=!Ember.isEmpty(n);r&&(0,t.default)(e,n),i.off("willTransition",a)};i.on("willTransition",o)}}}}),define("dummy/instance-initializers/walk-providers",["exports","torii/lib/container-utils","torii/configuration"],function(e,t,a){e.default={name:"torii-walk-providers",initialize:function(e){var n=(0,a.getConfiguration)();for(var r in n.providers)n.providers.hasOwnProperty(r)&&(0,t.lookup)(e,"torii-provider:"+r)}}}),define("dummy/mixins/active-link",["exports","ember-cli-active-link-wrapper/mixins/active-link"],function(e,t){e.default=t.default}),define("dummy/resolver",["exports","ember-resolver"],function(e,t){e.default=t.default}),define("dummy/router",["exports","ember","dummy/config/environment"],function(e,t,a){var n=t.default.Router.extend({location:a.default.locationType,rootURL:a.default.rootURL});n.map(function(){this.route("signin"),this.authenticatedRoute("secure"),this.route("rolesecure"),this.route("gatekeeper")}),e.default=n}),define("dummy/routes/application",["exports","ember","dummy/config/environment"],function(e,t,a){e.default=t.default.Route.extend({actions:{accessDenied:function(){this.transitionTo("signin")},signout:function(){a.default.torii.providers["arcgis-oauth-bearer"].display&&"iframe"===a.default.torii.providers["arcgis-oauth-bearer"].display?window.location=this.get("session.signoutUrl"):this.get("session").close()}}})}),define("dummy/routes/gatekeeper",["exports","ember"],function(e,t){e.default=t.default.Route.extend({session:t.default.inject.service("session"),isOrgAdmin:!1,hasOpenDataAdmin:!1,isAuthenticated:!1,isInDCProdOrg:!1,beforeModel:function(){},resetController:function(e){this.setProperties({isOrgAdmin:!1,hasOpenDataAdmin:!1,isAuthenticated:!1,isInDCProdOrg:!1}),e.set("model",null)},model:function(){var e=this.get("session");return e.get("isAuthenticated")&&(this.set("isAuthenticated",!0),this.set("hasOpenDataAdmin",e.hasPrivilege("opendata:user:openDataAdmin")),this.set("isOrgAdmin",e.isInRole("org_admin")),this.set("isInDCProdOrg",e.isInOrg("bkrWlSKcjUDFDtgw"))),{isAuthenticated:this.get("isAuthenticated"),isOrgAdmin:this.get("isOrgAdmin"),hasOpenDataAdmin:this.get("hasOpenDataAdmin"),isInDCProdOrg:this.get("isInDCProdOrg")}}})}),define("dummy/routes/index",["exports","ember"],function(e,t){e.default=t.default.Route.extend({})}),define("dummy/routes/secure",["exports","ember"],function(e,t){e.default=t.default.Route.extend({})}),define("dummy/routes/signin",["exports","ember","dummy/config/environment"],function(e,t,a){e.default=t.default.Route.extend({deactivate:function(){t.default.debug("route:signin:deactivate fired...")},actions:{signin:function(){var e=this;this.get("session").open("arcgis-oauth-bearer").then(function(a){t.default.debug("AUTH SUCCESS: ",a),e.controller.transitionToRoute("secure")}).catch(function(e){t.default.debug("AUTH ERROR: ",e)})},didTransition:function(){a.default.torii.providers["arcgis-oauth-bearer"].display&&"iframe"===a.default.torii.providers["arcgis-oauth-bearer"].display&&t.default.run.schedule("afterRender",this,function(){var e=this;this.get("session").open("arcgis-oauth-bearer").then(function(a){t.default.debug("AUTH SUCCESS: ",a),e.controller.transitionToRoute("secure")}).catch(function(e){t.default.debug("AUTH ERROR: "+JSON.stringify(e))})})}}})}),define("dummy/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("dummy/services/popup",["exports","torii/services/popup"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("dummy/services/torii-session",["exports","torii/services/session"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("dummy/services/torii",["exports","torii/services/torii"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("dummy/templates/application",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:11,column:8},end:{line:11,column:72}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("torii-provider-arcgis");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),t=function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:16,column:24},end:{line:16,column:50}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("Home");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:16,column:8},end:{line:16,column:50}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createComment("");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,a),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","link-to",["index"],[],0,null,["loc",[null,[16,24],[16,50]]]]],locals:[],templates:[e]}}(),a=function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:17,column:24},end:{line:17,column:53}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("Secure");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:17,column:8},end:{line:17,column:53}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createComment("");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,a),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","link-to",["secure"],[],0,null,["loc",[null,[17,24],[17,53]]]]],locals:[],templates:[e]}}(),n=function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:18,column:24},end:{line:18,column:61}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("GateKeeper");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:18,column:8},end:{line:18,column:61}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createComment("");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,a),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","link-to",["gatekeeper"],[],0,null,["loc",[null,[18,24],[18,61]]]]],locals:[],templates:[e]}}(),r=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:21,column:8},end:{line:23,column:8}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("        ");e.appendChild(t,a);var a=e.createElement("li"),n=e.createElement("a");e.setAttribute(n,"href","#");var r=e.createTextNode("Sign Out");e.appendChild(n,r),e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=e.childAt(t,[1,0]),r=new Array(1);return r[0]=e.createElementMorph(n),r},statements:[["element","action",["signout"],[],["loc",[null,[22,24],[22,44]]],0,0]],locals:[],templates:[]}}(),i=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:24,column:24},end:{line:24,column:54}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("Sign In");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:24,column:8},end:{line:24,column:54}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createComment("");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(1);return n[0]=e.createMorphAt(t,0,0,a),e.insertBoundary(t,0),e.insertBoundary(t,null),n},statements:[["block","link-to",["signin"],[],0,null,["loc",[null,[24,24],[24,54]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:23,column:8},end:{line:25,column:8}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("        ");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(1);return n[0]=e.createMorphAt(t,1,1,a),n},statements:[["block","active-link",[],[],0,null,["loc",[null,[24,8],[24,70]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:1,column:0},end:{line:34,column:0}},moduleName:"dummy/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createElement("nav");e.setAttribute(a,"class","navbar navbar-default");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","container");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","navbar-header");var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("button");e.setAttribute(i,"type","button"),e.setAttribute(i,"class","navbar-toggle collapsed"),e.setAttribute(i,"data-toggle","collapse"),e.setAttribute(i,"data-target","#navbar"),e.setAttribute(i,"aria-expanded","false"),e.setAttribute(i,"aria-controls","navbar");var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("span");e.setAttribute(o,"class","sr-only");var l=e.createTextNode("Toggle navigation");e.appendChild(o,l),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("span");e.setAttribute(o,"class","icon-bar"),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("span");e.setAttribute(o,"class","icon-bar"),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("span");e.setAttribute(o,"class","icon-bar"),e.appendChild(i,o);var o=e.createTextNode("\n      ");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n\n        ");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("\n\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"id","navbar"),e.setAttribute(r,"class","navbar-collapse collapse");var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("ul");e.setAttribute(i,"class","nav navbar-nav");var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("\n      ");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("ul");e.setAttribute(i,"class","nav navbar-nav navbar-right");var o=e.createTextNode("\n");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o);var o=e.createElement("li"),l=e.createElement("a");e.setAttribute(l,"href","https://github.com/esri/torii-provider-arcgis");var d=e.createTextNode("Github");e.appendChild(l,d),e.appendChild(o,l),e.appendChild(i,o);var o=e.createTextNode("\n      ");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createComment("/.nav-collapse ");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createComment("/.container-fluid ");e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=e.childAt(t,[0,1]),r=e.childAt(n,[3]),i=e.childAt(r,[1]),o=new Array(6);return o[0]=e.createMorphAt(e.childAt(n,[1]),3,3),o[1]=e.createMorphAt(i,1,1),o[2]=e.createMorphAt(i,3,3),o[3]=e.createMorphAt(i,5,5),o[4]=e.createMorphAt(e.childAt(r,[3]),1,1),o[5]=e.createMorphAt(t,2,2,a),o},statements:[["block","link-to",["index"],["class","navbar-brand"],0,null,["loc",[null,[11,8],[11,72]]]],["block","active-link",[],[],1,null,["loc",[null,[16,8],[16,66]]]],["block","active-link",[],[],2,null,["loc",[null,[17,8],[17,69]]]],["block","active-link",[],[],3,null,["loc",[null,[18,8],[18,77]]]],["block","if",[["get","session.isAuthenticated",["loc",[null,[21,14],[21,37]]],0,0,0,0]],[],4,5,["loc",[null,[21,8],[25,15]]]],["content","outlet",["loc",[null,[33,0],[33,10]]],0,0,0,0]],locals:[],templates:[e,t,a,n,r,i]}}())}),define("dummy/templates/gatekeeper",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:14,column:4},end:{line:22,column:4}},moduleName:"dummy/templates/gatekeeper.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("h2"),n=e.createTextNode("Hey there ");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("!");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n    ");e.appendChild(t,a);var a=e.createElement("p"),n=e.createTextNode("This page simply does a few role/priviledge checks using the gatekeeper service");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n    ");e.appendChild(t,a);var a=e.createElement("ul"),n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createElement("li"),r=e.createTextNode("isInRole('org_admin'): ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createElement("li"),r=e.createTextNode("hasPriviledge('opendata:user:openDataAdmin'): ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createElement("li"),r=e.createTextNode("isInOrg('bkrWlSKcjUDFDtgw'): ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n    ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=e.childAt(t,[5]),r=new Array(4);return r[0]=e.createMorphAt(e.childAt(t,[1]),1,1),r[1]=e.createMorphAt(e.childAt(n,[1]),1,1),r[2]=e.createMorphAt(e.childAt(n,[3]),1,1),r[3]=e.createMorphAt(e.childAt(n,[5]),1,1),r},statements:[["content","session.currentUser.fullName",["loc",[null,[15,18],[15,50]]],0,0,0,0],["content","model.isOrgAdmin",["loc",[null,[18,33],[18,53]]],0,0,0,0],["content","model.hasOpenDataAdmin",["loc",[null,[19,56],[19,82]]],0,0,0,0],["content","model.isInDCProdOrg",["loc",[null,[20,39],[20,62]]],0,0,0,0]],locals:[],templates:[]}}(),t=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:22,column:4},end:{line:25,column:4}},moduleName:"dummy/templates/gatekeeper.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("h2"),n=e.createTextNode("Hello...");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n    ");e.appendChild(t,a);var a=e.createElement("p"),n=e.createTextNode("you need to login before we can check roles/privileges");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:1,column:0},end:{line:31,column:0}},moduleName:"dummy/templates/gatekeeper.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","container");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("h2"),i=e.createTextNode("GateKeeper");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("p"),i=e.createTextNode("The gatekeeper service basically wraps the torii session and adds some ArcGIS Online specific methods for managing authorization.");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("h3"),i=e.createTextNode("Methods");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("ul"),i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("li"),o=e.createTextNode("isInRole(roleName)");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("li"),o=e.createTextNode("hasPrivilege(priviligeName)");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("li"),o=e.createTextNode("isInOrg(orgId)");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("li"),o=e.createTextNode("isInAnyRole([roleName,roleName])");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("li"),o=e.createTextNode("hasAnyPrivilege([priviligeName,priviligeName])");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("li"),o=e.createTextNode("isInAnyOrg([orgId, orgId])");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(2);return n[0]=e.createMorphAt(e.childAt(t,[0,1]),9,9),n[1]=e.createMorphAt(t,2,2,a),n},statements:[["block","if",[["get","model.isAuthenticated",["loc",[null,[14,10],[14,31]]],0,0,0,0]],[],0,1,["loc",[null,[14,4],[25,11]]]],["content","outlet",["loc",[null,[30,0],[30,10]]],0,0,0,0]],locals:[],templates:[e,t]}}())}),define("dummy/templates/index",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:7,column:8},end:{line:9,column:8}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("          ");e.appendChild(t,a);var a=e.createElement("button");e.setAttribute(a,"class","btn btn-primary"),e.setAttribute(a,"type","button");var n=e.createTextNode("Sign Out");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=e.childAt(t,[1]),r=new Array(1);return r[0]=e.createElementMorph(n),r},statements:[["element","action",["signout"],[],["loc",[null,[8,56],[8,76]]],0,0]],locals:[],templates:[]}}(),t=function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:10,column:10},end:{line:10,column:65}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("Sign In");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:9,column:8},end:{line:11,column:8}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("          ");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(1);return n[0]=e.createMorphAt(t,1,1,a),n},statements:[["block","link-to",["signin"],["class","btn btn-primary"],0,null,["loc",[null,[10,10],[10,65]]]]],locals:[],templates:[e]}}(),a=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:15,column:4},end:{line:19,column:4}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","alert alert-info"),e.setAttribute(a,"role","alert");var n=e.createTextNode("\n      Hello ");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode(", you are currently authenticated.\n    ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=new Array(1);return n[0]=e.createMorphAt(e.childAt(t,[1]),1,1),n},statements:[["content","session.currentUser.username",["loc",[null,[17,12],[17,45]]],0,0,0,0]],locals:[],templates:[]}}(),n=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:19,column:4},end:{line:23,column:4}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","alert alert-danger"),e.setAttribute(a,"role","alert");var n=e.createTextNode("\n      You are not currently authenticated.\n    ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),r=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:25,column:4},end:{line:31,column:4}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("      ");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","alert alert-danger"),e.setAttribute(a,"role","alert");var n=e.createTextNode("\n        ");e.appendChild(a,n);var n=e.createElement("h2"),r=e.createTextNode("ArcGIS.com Domain Required");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n        ");e.appendChild(a,n);var n=e.createElement("p"),r=e.createTextNode("In order to run this sample site, you need to load this page on a *.arcgis.com domain. But,\n        fear not - this is very easy! Simply add an entry to your hosts file, pointing local.arcgis.com to 127.0.0.1.");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n      ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:1,column:0},end:{line:34,column:0}},moduleName:"dummy/templates/index.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","container");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","jumbotron");var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("h1"),o=e.createTextNode("Torii Provider for ArcGIS");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("p"),o=e.createTextNode("Quickly add ArcGIS.com authentication into an Ember-cli application.");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("p"),o=e.createTextNode("\n");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o);var o=e.createTextNode("      ");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n\n");
e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=e.childAt(t,[0,1]),r=new Array(3);return r[0]=e.createMorphAt(e.childAt(n,[1,5]),1,1),r[1]=e.createMorphAt(n,3,3),r[2]=e.createMorphAt(n,5,5),r},statements:[["block","if",[["get","session.isAuthenticated",["loc",[null,[7,14],[7,37]]],0,0,0,0]],[],0,1,["loc",[null,[7,8],[11,15]]]],["block","if",[["get","session.isAuthenticated",["loc",[null,[15,10],[15,33]]],0,0,0,0]],[],2,3,["loc",[null,[15,4],[23,11]]]],["block","if",[["get","badDomain",["loc",[null,[25,11],[25,20]]],0,0,0,0]],[],4,null,["loc",[null,[25,4],[31,11]]]]],locals:[],templates:[e,t,a,n,r]}}())}),define("dummy/templates/secure",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:1,column:0},end:{line:12,column:0}},moduleName:"dummy/templates/secure.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","container");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("h2"),i=e.createTextNode("Hello ");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("p"),i=e.createTextNode("This page requires authentication.");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("ul"),i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("li"),o=e.createTextNode("Portal Name: ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("li"),o=e.createTextNode("Token: ");e.appendChild(i,o);var o=e.createComment("");e.appendChild(i,o),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=e.childAt(t,[0,1]),r=e.childAt(n,[5]),i=new Array(4);return i[0]=e.createMorphAt(e.childAt(n,[1]),1,1),i[1]=e.createMorphAt(e.childAt(r,[1]),1,1),i[2]=e.createMorphAt(e.childAt(r,[3]),1,1),i[3]=e.createMorphAt(t,2,2,a),i},statements:[["content","session.currentUser.fullName",["loc",[null,[3,14],[3,46]]],0,0,0,0],["content","session.portal.name",["loc",[null,[6,23],[6,46]]],0,0,0,0],["content","session.token",["loc",[null,[7,17],[7,34]]],0,0,0,0],["content","outlet",["loc",[null,[11,0],[11,10]]],0,0,0,0]],locals:[],templates:[]}}())}),define("dummy/templates/signin",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:3,column:4},end:{line:8,column:4}},moduleName:"dummy/templates/signin.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("h2"),n=e.createTextNode("ArcGIS IFrame Authentication");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n    ");e.appendChild(t,a);var a=e.createElement("p"),n=e.createTextNode("This style of login only works for apps hosted on *.arcgis.com domains.\n    This allows for the authentication to occur in an iframe instead of a full-page\n    redirect or a pop-out window.");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),t=function(){return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:8,column:4},end:{line:12,column:4}},moduleName:"dummy/templates/signin.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("h2"),n=e.createTextNode("ArcGIS Application Authentication");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n    ");e.appendChild(t,a);var a=e.createElement("p"),n=e.createTextNode("Press the button below to open the pop-up and sign-in.");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n    ");e.appendChild(t,a);var a=e.createElement("button");e.setAttribute(a,"class","btn btn-primary"),e.setAttribute(a,"type","button");var n=e.createTextNode("Show Sign In");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=e.childAt(t,[5]),r=new Array(1);return r[0]=e.createElementMorph(n),r},statements:[["element","action",["signin"],[],["loc",[null,[11,50],[11,69]]],0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.8.2",loc:{source:null,start:{line:1,column:0},end:{line:19,column:0}},moduleName:"dummy/templates/signin.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","container");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-6");var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-6");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},buildRenderNodes:function(e,t,a){var n=e.childAt(t,[0]),r=new Array(3);return r[0]=e.createMorphAt(e.childAt(n,[1]),1,1),r[1]=e.createMorphAt(e.childAt(n,[3]),1,1),r[2]=e.createMorphAt(t,2,2,a),r},statements:[["block","if",[["get","usingIframe",["loc",[null,[3,10],[3,21]]],0,0,0,0]],[],0,1,["loc",[null,[3,4],[12,11]]]],["content","torii-iframe-placeholder",["loc",[null,[15,4],[15,32]]],0,0,0,0],["content","outlet",["loc",[null,[18,0],[18,10]]],0,0,0,0]],locals:[],templates:[e,t]}}())}),define("dummy/torii-adapters/application",["exports","dummy/torii-adapters/arcgis-oauth-bearer"],function(e,t){e.default=t.default}),define("dummy/torii-adapters/arcgis-oauth-bearer",["exports","ember","dummy/config/environment"],function(e,t,a){e.default=t.default.Object.extend({authCookieName:"esri_auth",portalBaseUrl:"https://www.arcgis.com/",signoutUrl:t.default.computed("portalBaseUrl",function(){var e=a.default.baseURL||a.default.rootURL;return this.get("portalBaseUrl")+"/sharing/rest/oauth2/signout?redirect_uri="+window.location.protocol+"//"+window.location.host+e}),init:function(){this._super.init&&this._super.init.apply(this,arguments),a.default.APP.authCookieName&&this.set("authCookieName",a.default.APP.authCookieName),a.default.APP.portalBaseUrl?this.set("portalBaseUrl",a.default.APP.portalBaseUrl):t.default.warn("ENV.APP.portalBaseUrl not defined. Defaulting to https://www.arcgis.com")},open:function(e){var n=this,r=e.authorizationToken.token,i=Date.now()+1e3*e.authorizationToken.expires_in,o=this.get("portalBaseUrl")+"/sharing/rest/portals/self?f=json&token="+r,l=this.get("signoutUrl");return new t.default.RSVP.Promise(function(e,a){t.default.$.ajax({url:o,dataType:"json",success:t.default.run.bind(null,function(n){n.error?(t.default.debug("torii:adapter:arcgis-oauth-bearer:open portals/self call shows token was not valid."),a(n)):e(n)}),error:t.default.run.bind(null,a)})}).then(function(e){var t=e.user;if(delete e.user,!a.default.torii.providers["arcgis-oauth-bearer"].display||"iframe"!==a.default.torii.providers["arcgis-oauth-bearer"].display){var o=n._createCookieData(r,i,t,e);n._store("torii-provider-arcgis",o)}return{portal:e,currentUser:t,token:r,signoutUrl:l}})},close:function(){return new t.default.RSVP.Promise(function(e){if(window.localStorage&&window.localStorage.removeItem("torii-provider-arcgis"),a.default.torii.providers["arcgis-oauth-bearer"].display&&"iframe"===a.default.torii.providers["arcgis-oauth-bearer"].display)throw new Error("To log out of ArcGIS Online, you should redirect the browser to "+this.get("signoutUrl"));e()})},fetch:function(){console.debug("torii-provider-arcgis.fetch called...");var e=this;return new t.default.RSVP.Promise(function(a,n){var r=e._checkCookie(e.get("authCookieName"));if(r.valid||(r=e._checkLocalStorage("torii-provider-arcgis")),r.valid){t.default.debug("Fetch has valid client-side information... opening session...");var i=Date.now(),o=(r.authData.expires-i)/1e3,l={authorizationToken:{token:r.authData.token,expires_in:o}};a(e.open(l))}else t.default.debug("Fetch did not find valid client-side information... rejecting"),n()})},_checkLocalStorage:function(e){t.default.debug("torii:adapter:arcgis-oauth-bearer:checkLocalStorage keyName "+e);var a={valid:!1};if(window.localStorage){var n=window.localStorage.getItem(e);n&&(a.authData=JSON.parse(n),new Date(a.authData.expires)>new Date&&(t.default.debug("torii:adapter:arcgis-oauth-bearer:checkLocalStorage authdata has not expired yet "),a.valid=!0))}return a},_store:function(e,t){window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))},_createCookieData:function(e,t,a,n){var r={token:e,accountId:a.orgId,create:a.created,culture:a.culture,customBaseUrl:n.customBaseUrl,email:a.username,expires:t,persistent:!1,region:a.region,role:a.role};return r},_checkCookie:function(e){var a={valid:!1},n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(n){var r=JSON.parse(n);new Date(r.expires)>new Date?t.default.debug("torii:adapter:arcgis-oauth-bearer:checkCookie: cookie has not expired yet..."):t.default.debug("torii:adapter:arcgis-oauth-bearer:checkCookie: cookie has expired - but we are still going to try to use it"),a.authData=r,a.valid=!0}return a}})}),define("dummy/torii-providers/arcgis-oauth-bearer",["exports","torii/providers/oauth2-bearer","torii/configuration","dummy/config/environment","ember"],function(e,t,a,n,r){var i=t.default.extend({name:"arcgis-oauth-bearer",portalUrl:(0,a.configurable)("portalUrl","https://www.arcgis.com"),baseUrl:(0,a.configurable)("baseUrl",function(){return this.get("portalUrl")+"/sharing/oauth2/authorize"}),showSocialLogins:(0,a.configurable)("showSocialLogins",!1),display:(0,a.configurable)("display","default"),expiration:(0,a.configurable)("expiration",20160),locale:(0,a.configurable)("locale","en-us"),requiredUrlParams:["response_type","showSocialLogins","display","expiration","locale"],optionalUrlParams:["client","parent"],responseParams:["token","state","expires_in"],customRedirectUri:(0,a.configurable)("customRedirectUri",""),_currentBaseUrl:function(){return[window.location.protocol,"//",window.location.host].join("")},open:function(e){e=e||{},"iframe"===this.get("display")&&(e.parent=window.location.protocol+"//"+window.location.hostname),this.setProperties(e);var t="";t=this.get("customRedirectUri")?this.get("customRedirectUri"):n.default.baseURL?this._currentBaseUrl()+n.default.baseURL+"torii-provider-arcgis/redirect.html":this._currentBaseUrl()+"/torii-provider-arcgis/redirect.html",this.set("redirectUri",t);var a=this.get("name"),i=this.buildUrl(),o=this.get("redirectUri"),l=this.get("responseParams");return this.get("popup").open(i,l,e).then(function(e){var t=[];if(l.forEach(function(a){void 0===e[a]&&t.push(a)}),t.length)throw new Error("The response from the provider is missing these required response params: "+t.join(", "));return r.default.debug("session.open is returning with data..."),{authorizationToken:e,provider:a,redirectUri:o}})}});e.default=i}),define("dummy/config/environment",["ember"],function(e){var t="dummy";try{var a=t+"/config/environment",n=document.querySelector('meta[name="'+a+'"]').getAttribute("content"),r=JSON.parse(unescape(n)),i={default:r};return Object.defineProperty(i,"__esModule",{value:!0}),i}catch(e){throw new Error('Could not read config from meta tag with name "'+a+'".')}}),runningTests||require("dummy/app").default.create({portalBaseUrl:"https://www.arcgis.com",arcgisPortal:{domain:"arcgis.com",env:"www",maps:"maps"},name:"torii-provider-arcgis",version:"0.3.0+5a8d6821"});